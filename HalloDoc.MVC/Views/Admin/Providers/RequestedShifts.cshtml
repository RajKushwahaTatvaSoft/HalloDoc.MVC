@model RequestShiftViewModel;
@{
    Layout = "_AdminDashboardLayout";
}

<div class="container d-flex justify-content-between mt-4" style="max-width:1500px">
    <h4>
        Scheduling
    </h4>
    <button class="btn btn-outline-info" onclick="history.back(-1)">
        <svg xmlns="http://www.w3.org/2000/svg" fill="#01bce9" width="15" height="15" viewBox="0 -960 960 960">
            <path d="m142-480 294 294q15 15 14.5 35T435-116q-15 15-35 15t-35-15L57-423q-12-12-18-27t-6-30q0-15 6-30t18-27l308-308q15-15 35.5-14.5T436-844q15 15 15 35t-15 35L142-480Z" />
        </svg>
        <span>Back</span>
    </button>
</div>

<div class="container mt-4 shadow p-1" style="max-width:1500px">
    <div class="container d-sm-flex justify-content-between mt-4" style="max-width:1500px">
        <form method="post" id="DashboradForm">
            <div class="d-flex normal-input rounded align-items-center ms-lg-2 ps-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 50 50">
                    <path d="M 21 3 C 11.654545 3 4 10.654545 4 20 C 4 29.345455 11.654545 37 21 37 C 24.701287 37 28.127393 35.786719 30.927734 33.755859 L 44.085938 46.914062 L 46.914062 44.085938 L 33.875 31.046875 C 36.43682 28.068316 38 24.210207 38 20 C 38 10.654545 30.345455 3 21 3 z M 21 5 C 29.254545 5 36 11.745455 36 20 C 36 28.254545 29.254545 35 21 35 C 12.745455 35 6 28.254545 6 20 C 6 11.745455 12.745455 5 21 5 z">
                    </path>
                </svg>
                <select class="form-select border-0" id="request-shift-region-filter" aria-label="Default select example">
                    <option selected value="null">All Regions</option>
                    @foreach (var item in Model.regions)
                    {
                        <option value="@item.Regionid">@item.Name</option>
                    }
                </select>
            </div>
        </form>
        <div class="d-flex justify-content-end">
            <a id="CreateShiftBtn" class="btn m-2 mt-sm-0 " style="background-color: #1b5e20; color:white;">
                View Current Month Shift
            </a>
            <button type="button" id="ApproveBtn" class="btn m-2 mt-sm-0" style="background-color: #2e7d32; color:white;">
                Approved Selected
            </button>
            <button type="button" id="DeleteBtn" class="btn m-2 mt-sm-0" style="background-color: #d32f2f; color:white;">
                Delete Seleted
            </button>

        </div>
    </div>

    <div id="request-shift-table" style="max-width:1500px">
    </div>

</div>

<script>
    var region_filter = 0;
    function loadRequestShiftTable(pageNo) {
        $.ajax({
            url: "/Admin/RequestShiftPartialTable",
            type: 'POST',
            data: { pageNo : pageNo },
            success: function (result) {
                $('#request-shift-table').html(result);
            },
            error: function (error) {
                console.log(error);
                alert('error fetching details')
            },
        });
    }

    $(document).ready(function () {
        loadRequestShiftTable(1);
    });

</script>