@model PatientRecordsViewModel
@{
    Layout = "_AdminDashboardLayout";
}
<div class="admin-dashboard container-fluid  mt-4" style="max-width:1000px; ">
    <div class="container-fluid d-flex justify-content-between mt-4" style="max-width:1000px">
        <h4 class="fw-bold mt-4">
            Patient Records
        </h4>
        <button class="btn btn-outline-info align-middle" onclick="history.back(-1)">
            <svg xmlns="http://www.w3.org/2000/svg" fill="#01bce9" width="15" height="15" viewBox="0 -960 960 960">
                <path d="m142-480 294 294q15 15 14.5 35T435-116q-15 15-35 15t-35-15L57-423q-12-12-18-27t-6-30q0-15 6-30t18-27l308-308q15-15 35.5-14.5T436-844q15 15 15 35t-15 35L142-480Z" />
            </svg>
            <span>Back</span>
        </button>

    </div>
    <div class="mt-3 table-responsive white-back">
        <table class="table laptop">
            <colgroup>
                <col span="1" style="width: 12%;">
                <col span="1" style="width: 14%;">
                <col span="1" style="width: 14%;">
                <col span="1" style="width: 12%;">
                <col span="1" style="width: 12%;">
                <col span="1" style="width: 12%;">
                <col span="1" style="width: 12%;">
                <col span="1" style="width: 12%;">
            </colgroup>

            <thead class="table-head align-middle">
                <tr>
                    <th>
                        Client/Member
                    </th>
                    <th>Created Date</th>
                    <th>Confirmation</th>
                    <th>Provider Name</th>
                    <th>Concluded date</th>
                    <th>Status</th>
                    <th>Final report</th>
                    <th class="">Actions</th>
                </tr>
            </thead>
            <tbody class="table-body align-middle">
                @for (int i = 0; i < Model.explores.Count; i++)
                {
                    <tr class="table-row">
                        <td>
                            @Model.explores[i].Name
                        </td>
                        <td>@Model.explores[i].createdAt  </td>

                        <td class="text-grey">@Model.explores[i].confirmationNumber</td>
                        <td class="text-grey">
                            @Model.explores[i].providerName
                        </td>
                        <td>@Model.explores[i].concludedDate </td>
                        <td>@Model.explores[i].status </td>

                        @if ((bool)Model.explores[i].finalReport)
                        {
                            <td>
                                <a asp-controller="AdminRecord" asp-action="ViewEncounter" asp-route-id="@Model.explores[i].id" class="btn btn-outline-info align-middle">
                                    <span class="text-info">View</span>
                                </a>
                            </td>
                        }
                        else
                        {
                            <td></td>
                        }


                        <td class="">
                            <a class="h-100 text-decoration-none btn btn-outline-info p-2 " id="btn-back" data-bs-toggle="dropdown">
                                Actions
                            </a>

                            <ul class="dropdown-menu" aria-labelledby="provider-tab">
                                <li><a class="dropdown-item" asp-controller="Admin" asp-action="ViewCase" asp-route-RequestID="@Model.explores[i].id">View Case</a></li>
                                <li><a class="dropdown-item" asp-controller="Admin" asp-action="ViewUploads" asp-route-RequestID="@Model.explores[i].id">(@Model.explores[i].count) Documenst</a></li>
                            </ul>

                        </td>
                    </tr>
                }


            </tbody>
        </table>
    </div>
</div>

<script>

    $('.admin-tab').removeClass("active");
    $('#record-tab').addClass("active");

</script>